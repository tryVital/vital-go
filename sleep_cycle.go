// Code generated by Fern. DO NOT EDIT.

package api

import (
	json "encoding/json"
	fmt "fmt"
	internal "github.com/tryVital/vital-go/internal"
	big "math/big"
	time "time"
)

var (
	sleepCycleGetRequestFieldStartDate = big.NewInt(1 << 0)
	sleepCycleGetRequestFieldEndDate   = big.NewInt(1 << 1)
	sleepCycleGetRequestFieldProvider  = big.NewInt(1 << 2)
)

type SleepCycleGetRequest struct {
	StartDate string  `json:"-" url:"start_date"`
	EndDate   *string `json:"-" url:"end_date,omitempty"`
	// Provider oura/strava etc
	Provider *string `json:"-" url:"provider,omitempty"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`
}

func (s *SleepCycleGetRequest) require(field *big.Int) {
	if s.explicitFields == nil {
		s.explicitFields = big.NewInt(0)
	}
	s.explicitFields.Or(s.explicitFields, field)
}

// SetStartDate sets the StartDate field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (s *SleepCycleGetRequest) SetStartDate(startDate string) {
	s.StartDate = startDate
	s.require(sleepCycleGetRequestFieldStartDate)
}

// SetEndDate sets the EndDate field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (s *SleepCycleGetRequest) SetEndDate(endDate *string) {
	s.EndDate = endDate
	s.require(sleepCycleGetRequestFieldEndDate)
}

// SetProvider sets the Provider field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (s *SleepCycleGetRequest) SetProvider(provider *string) {
	s.Provider = provider
	s.require(sleepCycleGetRequestFieldProvider)
}

var (
	clientFacingSleepCycleFieldId                     = big.NewInt(1 << 0)
	clientFacingSleepCycleFieldSleepId                = big.NewInt(1 << 1)
	clientFacingSleepCycleFieldSessionStart           = big.NewInt(1 << 2)
	clientFacingSleepCycleFieldSessionEnd             = big.NewInt(1 << 3)
	clientFacingSleepCycleFieldStageStartOffsetSecond = big.NewInt(1 << 4)
	clientFacingSleepCycleFieldStageEndOffsetSecond   = big.NewInt(1 << 5)
	clientFacingSleepCycleFieldStageType              = big.NewInt(1 << 6)
	clientFacingSleepCycleFieldTimeZone               = big.NewInt(1 << 7)
	clientFacingSleepCycleFieldSourceProvider         = big.NewInt(1 << 8)
	clientFacingSleepCycleFieldSourceType             = big.NewInt(1 << 9)
	clientFacingSleepCycleFieldSourceAppId            = big.NewInt(1 << 10)
	clientFacingSleepCycleFieldSourceDeviceId         = big.NewInt(1 << 11)
	clientFacingSleepCycleFieldCreatedAt              = big.NewInt(1 << 12)
	clientFacingSleepCycleFieldUpdatedAt              = big.NewInt(1 << 13)
	clientFacingSleepCycleFieldUserId                 = big.NewInt(1 << 14)
	clientFacingSleepCycleFieldSource                 = big.NewInt(1 << 15)
)

type ClientFacingSleepCycle struct {
	Id                     string    `json:"id" url:"id"`
	SleepId                string    `json:"sleep_id" url:"sleep_id"`
	SessionStart           time.Time `json:"session_start" url:"session_start"`
	SessionEnd             time.Time `json:"session_end" url:"session_end"`
	StageStartOffsetSecond []int     `json:"stage_start_offset_second" url:"stage_start_offset_second"`
	StageEndOffsetSecond   []int     `json:"stage_end_offset_second" url:"stage_end_offset_second"`
	// Sleep stage classification:
	// `-1`: Unknown or unclassified sleep stage;
	// `1`: Deep sleep;
	// `2`: Light/non-REM sleep;
	// `3`: Rapid Eye Movement sleep;
	// `4`: Awake period;
	// `5`: Manually classified stage.
	StageType      []VitalSleepStage                     `json:"stage_type" url:"stage_type"`
	TimeZone       *string                               `json:"time_zone,omitempty" url:"time_zone,omitempty"`
	SourceProvider *ClientFacingSleepCycleSourceProvider `json:"source_provider" url:"source_provider"`
	// ℹ️ This enum is non-exhaustive.
	SourceType     ClientFacingSleepCycleSourceType `json:"source_type" url:"source_type"`
	SourceAppId    *string                          `json:"source_app_id,omitempty" url:"source_app_id,omitempty"`
	SourceDeviceId *string                          `json:"source_device_id,omitempty" url:"source_device_id,omitempty"`
	CreatedAt      time.Time                        `json:"created_at" url:"created_at"`
	UpdatedAt      time.Time                        `json:"updated_at" url:"updated_at"`
	UserId         string                           `json:"user_id" url:"user_id"`
	Source         *ClientFacingSource              `json:"source" url:"source"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (c *ClientFacingSleepCycle) GetId() string {
	if c == nil {
		return ""
	}
	return c.Id
}

func (c *ClientFacingSleepCycle) GetSleepId() string {
	if c == nil {
		return ""
	}
	return c.SleepId
}

func (c *ClientFacingSleepCycle) GetSessionStart() time.Time {
	if c == nil {
		return time.Time{}
	}
	return c.SessionStart
}

func (c *ClientFacingSleepCycle) GetSessionEnd() time.Time {
	if c == nil {
		return time.Time{}
	}
	return c.SessionEnd
}

func (c *ClientFacingSleepCycle) GetStageStartOffsetSecond() []int {
	if c == nil {
		return nil
	}
	return c.StageStartOffsetSecond
}

func (c *ClientFacingSleepCycle) GetStageEndOffsetSecond() []int {
	if c == nil {
		return nil
	}
	return c.StageEndOffsetSecond
}

func (c *ClientFacingSleepCycle) GetStageType() []VitalSleepStage {
	if c == nil {
		return nil
	}
	return c.StageType
}

func (c *ClientFacingSleepCycle) GetTimeZone() *string {
	if c == nil {
		return nil
	}
	return c.TimeZone
}

func (c *ClientFacingSleepCycle) GetSourceProvider() *ClientFacingSleepCycleSourceProvider {
	if c == nil {
		return nil
	}
	return c.SourceProvider
}

func (c *ClientFacingSleepCycle) GetSourceType() ClientFacingSleepCycleSourceType {
	if c == nil {
		return ""
	}
	return c.SourceType
}

func (c *ClientFacingSleepCycle) GetSourceAppId() *string {
	if c == nil {
		return nil
	}
	return c.SourceAppId
}

func (c *ClientFacingSleepCycle) GetSourceDeviceId() *string {
	if c == nil {
		return nil
	}
	return c.SourceDeviceId
}

func (c *ClientFacingSleepCycle) GetCreatedAt() time.Time {
	if c == nil {
		return time.Time{}
	}
	return c.CreatedAt
}

func (c *ClientFacingSleepCycle) GetUpdatedAt() time.Time {
	if c == nil {
		return time.Time{}
	}
	return c.UpdatedAt
}

func (c *ClientFacingSleepCycle) GetUserId() string {
	if c == nil {
		return ""
	}
	return c.UserId
}

func (c *ClientFacingSleepCycle) GetSource() *ClientFacingSource {
	if c == nil {
		return nil
	}
	return c.Source
}

func (c *ClientFacingSleepCycle) GetExtraProperties() map[string]interface{} {
	return c.extraProperties
}

func (c *ClientFacingSleepCycle) require(field *big.Int) {
	if c.explicitFields == nil {
		c.explicitFields = big.NewInt(0)
	}
	c.explicitFields.Or(c.explicitFields, field)
}

// SetId sets the Id field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetId(id string) {
	c.Id = id
	c.require(clientFacingSleepCycleFieldId)
}

// SetSleepId sets the SleepId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSleepId(sleepId string) {
	c.SleepId = sleepId
	c.require(clientFacingSleepCycleFieldSleepId)
}

// SetSessionStart sets the SessionStart field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSessionStart(sessionStart time.Time) {
	c.SessionStart = sessionStart
	c.require(clientFacingSleepCycleFieldSessionStart)
}

// SetSessionEnd sets the SessionEnd field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSessionEnd(sessionEnd time.Time) {
	c.SessionEnd = sessionEnd
	c.require(clientFacingSleepCycleFieldSessionEnd)
}

// SetStageStartOffsetSecond sets the StageStartOffsetSecond field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetStageStartOffsetSecond(stageStartOffsetSecond []int) {
	c.StageStartOffsetSecond = stageStartOffsetSecond
	c.require(clientFacingSleepCycleFieldStageStartOffsetSecond)
}

// SetStageEndOffsetSecond sets the StageEndOffsetSecond field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetStageEndOffsetSecond(stageEndOffsetSecond []int) {
	c.StageEndOffsetSecond = stageEndOffsetSecond
	c.require(clientFacingSleepCycleFieldStageEndOffsetSecond)
}

// SetStageType sets the StageType field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetStageType(stageType []VitalSleepStage) {
	c.StageType = stageType
	c.require(clientFacingSleepCycleFieldStageType)
}

// SetTimeZone sets the TimeZone field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetTimeZone(timeZone *string) {
	c.TimeZone = timeZone
	c.require(clientFacingSleepCycleFieldTimeZone)
}

// SetSourceProvider sets the SourceProvider field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSourceProvider(sourceProvider *ClientFacingSleepCycleSourceProvider) {
	c.SourceProvider = sourceProvider
	c.require(clientFacingSleepCycleFieldSourceProvider)
}

// SetSourceType sets the SourceType field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSourceType(sourceType ClientFacingSleepCycleSourceType) {
	c.SourceType = sourceType
	c.require(clientFacingSleepCycleFieldSourceType)
}

// SetSourceAppId sets the SourceAppId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSourceAppId(sourceAppId *string) {
	c.SourceAppId = sourceAppId
	c.require(clientFacingSleepCycleFieldSourceAppId)
}

// SetSourceDeviceId sets the SourceDeviceId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSourceDeviceId(sourceDeviceId *string) {
	c.SourceDeviceId = sourceDeviceId
	c.require(clientFacingSleepCycleFieldSourceDeviceId)
}

// SetCreatedAt sets the CreatedAt field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetCreatedAt(createdAt time.Time) {
	c.CreatedAt = createdAt
	c.require(clientFacingSleepCycleFieldCreatedAt)
}

// SetUpdatedAt sets the UpdatedAt field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetUpdatedAt(updatedAt time.Time) {
	c.UpdatedAt = updatedAt
	c.require(clientFacingSleepCycleFieldUpdatedAt)
}

// SetUserId sets the UserId field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetUserId(userId string) {
	c.UserId = userId
	c.require(clientFacingSleepCycleFieldUserId)
}

// SetSource sets the Source field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientFacingSleepCycle) SetSource(source *ClientFacingSource) {
	c.Source = source
	c.require(clientFacingSleepCycleFieldSource)
}

func (c *ClientFacingSleepCycle) UnmarshalJSON(data []byte) error {
	type embed ClientFacingSleepCycle
	var unmarshaler = struct {
		embed
		SessionStart *internal.DateTime `json:"session_start"`
		SessionEnd   *internal.DateTime `json:"session_end"`
		CreatedAt    *internal.DateTime `json:"created_at"`
		UpdatedAt    *internal.DateTime `json:"updated_at"`
	}{
		embed: embed(*c),
	}
	if err := json.Unmarshal(data, &unmarshaler); err != nil {
		return err
	}
	*c = ClientFacingSleepCycle(unmarshaler.embed)
	c.SessionStart = unmarshaler.SessionStart.Time()
	c.SessionEnd = unmarshaler.SessionEnd.Time()
	c.CreatedAt = unmarshaler.CreatedAt.Time()
	c.UpdatedAt = unmarshaler.UpdatedAt.Time()
	extraProperties, err := internal.ExtractExtraProperties(data, *c)
	if err != nil {
		return err
	}
	c.extraProperties = extraProperties
	c.rawJSON = json.RawMessage(data)
	return nil
}

func (c *ClientFacingSleepCycle) MarshalJSON() ([]byte, error) {
	type embed ClientFacingSleepCycle
	var marshaler = struct {
		embed
		SessionStart *internal.DateTime `json:"session_start"`
		SessionEnd   *internal.DateTime `json:"session_end"`
		CreatedAt    *internal.DateTime `json:"created_at"`
		UpdatedAt    *internal.DateTime `json:"updated_at"`
	}{
		embed:        embed(*c),
		SessionStart: internal.NewDateTime(c.SessionStart),
		SessionEnd:   internal.NewDateTime(c.SessionEnd),
		CreatedAt:    internal.NewDateTime(c.CreatedAt),
		UpdatedAt:    internal.NewDateTime(c.UpdatedAt),
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, c.explicitFields)
	return json.Marshal(explicitMarshaler)
}

func (c *ClientFacingSleepCycle) String() string {
	if len(c.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(c.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(c); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", c)
}

type ClientFacingSleepCycleSourceProvider struct {
	Providers Providers
	Labs      Labs

	typ string
}

func (c *ClientFacingSleepCycleSourceProvider) GetProviders() Providers {
	if c == nil {
		return ""
	}
	return c.Providers
}

func (c *ClientFacingSleepCycleSourceProvider) GetLabs() Labs {
	if c == nil {
		return ""
	}
	return c.Labs
}

func (c *ClientFacingSleepCycleSourceProvider) UnmarshalJSON(data []byte) error {
	var valueProviders Providers
	if err := json.Unmarshal(data, &valueProviders); err == nil {
		c.typ = "Providers"
		c.Providers = valueProviders
		return nil
	}
	var valueLabs Labs
	if err := json.Unmarshal(data, &valueLabs); err == nil {
		c.typ = "Labs"
		c.Labs = valueLabs
		return nil
	}
	return fmt.Errorf("%s cannot be deserialized as a %T", data, c)
}

func (c ClientFacingSleepCycleSourceProvider) MarshalJSON() ([]byte, error) {
	if c.typ == "Providers" || c.Providers != "" {
		return json.Marshal(c.Providers)
	}
	if c.typ == "Labs" || c.Labs != "" {
		return json.Marshal(c.Labs)
	}
	return nil, fmt.Errorf("type %T does not include a non-empty union type", c)
}

type ClientFacingSleepCycleSourceProviderVisitor interface {
	VisitProviders(Providers) error
	VisitLabs(Labs) error
}

func (c *ClientFacingSleepCycleSourceProvider) Accept(visitor ClientFacingSleepCycleSourceProviderVisitor) error {
	if c.typ == "Providers" || c.Providers != "" {
		return visitor.VisitProviders(c.Providers)
	}
	if c.typ == "Labs" || c.Labs != "" {
		return visitor.VisitLabs(c.Labs)
	}
	return fmt.Errorf("type %T does not include a non-empty union type", c)
}

// ℹ️ This enum is non-exhaustive.
type ClientFacingSleepCycleSourceType string

const (
	ClientFacingSleepCycleSourceTypeUnknown         ClientFacingSleepCycleSourceType = "unknown"
	ClientFacingSleepCycleSourceTypePhone           ClientFacingSleepCycleSourceType = "phone"
	ClientFacingSleepCycleSourceTypeWatch           ClientFacingSleepCycleSourceType = "watch"
	ClientFacingSleepCycleSourceTypeApp             ClientFacingSleepCycleSourceType = "app"
	ClientFacingSleepCycleSourceTypeMultipleSources ClientFacingSleepCycleSourceType = "multiple_sources"
	ClientFacingSleepCycleSourceTypeFingerprick     ClientFacingSleepCycleSourceType = "fingerprick"
	ClientFacingSleepCycleSourceTypeCuff            ClientFacingSleepCycleSourceType = "cuff"
	ClientFacingSleepCycleSourceTypeManualScan      ClientFacingSleepCycleSourceType = "manual_scan"
	ClientFacingSleepCycleSourceTypeAutomatic       ClientFacingSleepCycleSourceType = "automatic"
	ClientFacingSleepCycleSourceTypeScale           ClientFacingSleepCycleSourceType = "scale"
	ClientFacingSleepCycleSourceTypeChestStrap      ClientFacingSleepCycleSourceType = "chest_strap"
	ClientFacingSleepCycleSourceTypeRing            ClientFacingSleepCycleSourceType = "ring"
	ClientFacingSleepCycleSourceTypeLab             ClientFacingSleepCycleSourceType = "lab"
	ClientFacingSleepCycleSourceTypeExerciseMachine ClientFacingSleepCycleSourceType = "exercise_machine"
	ClientFacingSleepCycleSourceTypeEarphone        ClientFacingSleepCycleSourceType = "earphone"
)

func NewClientFacingSleepCycleSourceTypeFromString(s string) (ClientFacingSleepCycleSourceType, error) {
	switch s {
	case "unknown":
		return ClientFacingSleepCycleSourceTypeUnknown, nil
	case "phone":
		return ClientFacingSleepCycleSourceTypePhone, nil
	case "watch":
		return ClientFacingSleepCycleSourceTypeWatch, nil
	case "app":
		return ClientFacingSleepCycleSourceTypeApp, nil
	case "multiple_sources":
		return ClientFacingSleepCycleSourceTypeMultipleSources, nil
	case "fingerprick":
		return ClientFacingSleepCycleSourceTypeFingerprick, nil
	case "cuff":
		return ClientFacingSleepCycleSourceTypeCuff, nil
	case "manual_scan":
		return ClientFacingSleepCycleSourceTypeManualScan, nil
	case "automatic":
		return ClientFacingSleepCycleSourceTypeAutomatic, nil
	case "scale":
		return ClientFacingSleepCycleSourceTypeScale, nil
	case "chest_strap":
		return ClientFacingSleepCycleSourceTypeChestStrap, nil
	case "ring":
		return ClientFacingSleepCycleSourceTypeRing, nil
	case "lab":
		return ClientFacingSleepCycleSourceTypeLab, nil
	case "exercise_machine":
		return ClientFacingSleepCycleSourceTypeExerciseMachine, nil
	case "earphone":
		return ClientFacingSleepCycleSourceTypeEarphone, nil
	}
	var t ClientFacingSleepCycleSourceType
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (c ClientFacingSleepCycleSourceType) Ptr() *ClientFacingSleepCycleSourceType {
	return &c
}

var (
	clientSleepCycleResponseFieldSleepCycle = big.NewInt(1 << 0)
)

type ClientSleepCycleResponse struct {
	SleepCycle []*ClientFacingSleepCycle `json:"sleep_cycle" url:"sleep_cycle"`

	// Private bitmask of fields set to an explicit value and therefore not to be omitted
	explicitFields *big.Int `json:"-" url:"-"`

	extraProperties map[string]interface{}
	rawJSON         json.RawMessage
}

func (c *ClientSleepCycleResponse) GetSleepCycle() []*ClientFacingSleepCycle {
	if c == nil {
		return nil
	}
	return c.SleepCycle
}

func (c *ClientSleepCycleResponse) GetExtraProperties() map[string]interface{} {
	return c.extraProperties
}

func (c *ClientSleepCycleResponse) require(field *big.Int) {
	if c.explicitFields == nil {
		c.explicitFields = big.NewInt(0)
	}
	c.explicitFields.Or(c.explicitFields, field)
}

// SetSleepCycle sets the SleepCycle field and marks it as non-optional;
// this prevents an empty or null value for this field from being omitted during serialization.
func (c *ClientSleepCycleResponse) SetSleepCycle(sleepCycle []*ClientFacingSleepCycle) {
	c.SleepCycle = sleepCycle
	c.require(clientSleepCycleResponseFieldSleepCycle)
}

func (c *ClientSleepCycleResponse) UnmarshalJSON(data []byte) error {
	type unmarshaler ClientSleepCycleResponse
	var value unmarshaler
	if err := json.Unmarshal(data, &value); err != nil {
		return err
	}
	*c = ClientSleepCycleResponse(value)
	extraProperties, err := internal.ExtractExtraProperties(data, *c)
	if err != nil {
		return err
	}
	c.extraProperties = extraProperties
	c.rawJSON = json.RawMessage(data)
	return nil
}

func (c *ClientSleepCycleResponse) MarshalJSON() ([]byte, error) {
	type embed ClientSleepCycleResponse
	var marshaler = struct {
		embed
	}{
		embed: embed(*c),
	}
	explicitMarshaler := internal.HandleExplicitFields(marshaler, c.explicitFields)
	return json.Marshal(explicitMarshaler)
}

func (c *ClientSleepCycleResponse) String() string {
	if len(c.rawJSON) > 0 {
		if value, err := internal.StringifyJSON(c.rawJSON); err == nil {
			return value
		}
	}
	if value, err := internal.StringifyJSON(c); err == nil {
		return value
	}
	return fmt.Sprintf("%#v", c)
}

// ℹ️ This enum is non-exhaustive.
type VitalSleepStage = int
