// Code generated by Fern. DO NOT EDIT.

package labtests

import (
	context "context"
	vitalgo "github.com/tryVital/vital-go"
	core "github.com/tryVital/vital-go/core"
	internal "github.com/tryVital/vital-go/internal"
	option "github.com/tryVital/vital-go/option"
	io "io"
)

type Client struct {
	WithRawResponse *RawClient

	options *core.RequestOptions
	baseURL string
	caller  *internal.Caller
}

func NewClient(options *core.RequestOptions) *Client {
	return &Client{
		WithRawResponse: NewRawClient(options),
		options:         options,
		baseURL:         options.BaseURL,
		caller: internal.NewCaller(
			&internal.CallerParams{
				Client:      options.HTTPClient,
				MaxAttempts: options.MaxAttempts,
			},
		),
	}
}

// GET all the lab tests the team has access to.
func (c *Client) Get(
	ctx context.Context,
	request *vitalgo.GetLabTestsRequest,
	opts ...option.RequestOption,
) ([]*vitalgo.ClientFacingLabTest, error) {
	response, err := c.WithRawResponse.Get(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) Create(
	ctx context.Context,
	request *vitalgo.CreateLabTestRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingLabTest, error) {
	response, err := c.WithRawResponse.Create(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET all the lab tests the team has access to.
func (c *Client) GetById(
	ctx context.Context,
	request *vitalgo.GetByIdLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingLabTest, error) {
	response, err := c.WithRawResponse.GetById(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) UpdateLabTest(
	ctx context.Context,
	request *vitalgo.UpdateLabTestRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingLabTest, error) {
	response, err := c.WithRawResponse.UpdateLabTest(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET all the markers for the given lab.
func (c *Client) GetMarkers(
	ctx context.Context,
	request *vitalgo.GetMarkersLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.GetMarkersResponse, error) {
	response, err := c.WithRawResponse.GetMarkers(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetMarkersForOrderSet(
	ctx context.Context,
	request *vitalgo.GetMarkersForOrderSetLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.GetMarkersResponse, error) {
	response, err := c.WithRawResponse.GetMarkersForOrderSet(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetMarkersForLabTest(
	ctx context.Context,
	request *vitalgo.GetMarkersForLabTestLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.GetMarkersResponse, error) {
	response, err := c.WithRawResponse.GetMarkersForLabTest(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET a specific marker for the given lab and provider_id
func (c *Client) GetMarkersByLabAndProviderId(
	ctx context.Context,
	request *vitalgo.GetMarkersByLabAndProviderIdLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingMarker, error) {
	response, err := c.WithRawResponse.GetMarkersByLabAndProviderId(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET all the labs.
func (c *Client) GetLabs(
	ctx context.Context,
	opts ...option.RequestOption,
) ([]*vitalgo.ClientFacingLab, error) {
	response, err := c.WithRawResponse.GetLabs(
		ctx,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET lab tests the team has access to as a paginated list.
func (c *Client) GetPaginated(
	ctx context.Context,
	request *vitalgo.GetPaginatedLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.LabTestResourcesResponse, error) {
	response, err := c.WithRawResponse.GetPaginated(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetLabTestCollectionInstructionPdf(
	ctx context.Context,
	request *vitalgo.GetLabTestCollectionInstructionPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetLabTestCollectionInstructionPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET many orders with filters.
func (c *Client) GetOrders(
	ctx context.Context,
	request *vitalgo.GetOrdersLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.GetOrdersResponse, error) {
	response, err := c.WithRawResponse.GetOrders(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Return the available time slots to book an appointment with a phlebotomist
// for the given address and order.
func (c *Client) GetPhlebotomyAppointmentAvailability(
	ctx context.Context,
	request *vitalgo.GetPhlebotomyAppointmentAvailabilityLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.AppointmentAvailabilitySlots, error) {
	response, err := c.WithRawResponse.GetPhlebotomyAppointmentAvailability(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Book an at-home phlebotomy appointment.
func (c *Client) BookPhlebotomyAppointment(
	ctx context.Context,
	request *vitalgo.BookPhlebotomyAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.BookPhlebotomyAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Request an at-home phlebotomy appointment.
func (c *Client) RequestPhlebotomyAppointment(
	ctx context.Context,
	request *vitalgo.RequestAppointmentRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.RequestPhlebotomyAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Reschedule a previously booked at-home phlebotomy appointment.
func (c *Client) ReschedulePhlebotomyAppointment(
	ctx context.Context,
	request *vitalgo.ReschedulePhlebotomyAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.ReschedulePhlebotomyAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Cancel a previously booked at-home phlebotomy appointment.
func (c *Client) CancelPhlebotomyAppointment(
	ctx context.Context,
	request *vitalgo.ApiApiV1EndpointsVitalApiLabTestingOrdersHelpersAppointmentCancelRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.CancelPhlebotomyAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Get the list of reasons for cancelling an at-home phlebotomy appointment.
func (c *Client) GetPhlebotomyAppointmentCancellationReason(
	ctx context.Context,
	opts ...option.RequestOption,
) ([]*vitalgo.ClientFacingAppointmentCancellationReason, error) {
	response, err := c.WithRawResponse.GetPhlebotomyAppointmentCancellationReason(
		ctx,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Get the appointment associated with an order.
func (c *Client) GetPhlebotomyAppointment(
	ctx context.Context,
	request *vitalgo.GetPhlebotomyAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.GetPhlebotomyAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET information about an area with respect to lab-testing.
//
// Information returned:
// * Whether a given zip code is served by our Phlebotomy network.
// * List of Lab locations in the area.
func (c *Client) GetAreaInfo(
	ctx context.Context,
	request *vitalgo.GetAreaInfoLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.AreaInfo, error) {
	response, err := c.WithRawResponse.GetAreaInfo(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetPscInfo(
	ctx context.Context,
	request *vitalgo.GetPscInfoLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.PscInfo, error) {
	response, err := c.WithRawResponse.GetPscInfo(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetOrderPscInfo(
	ctx context.Context,
	request *vitalgo.GetOrderPscInfoLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.PscInfo, error) {
	response, err := c.WithRawResponse.GetOrderPscInfo(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// This endpoint returns the lab results for the order.
func (c *Client) GetResultPdf(
	ctx context.Context,
	request *vitalgo.GetResultPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetResultPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Return metadata related to order results, such as lab metadata,
// provider and sample dates.
func (c *Client) GetResultMetadata(
	ctx context.Context,
	request *vitalgo.GetResultMetadataLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.LabResultsMetadata, error) {
	response, err := c.WithRawResponse.GetResultMetadata(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Return both metadata and raw json test data
func (c *Client) GetResultRaw(
	ctx context.Context,
	request *vitalgo.GetResultRawLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.LabResultsRaw, error) {
	response, err := c.WithRawResponse.GetResultRaw(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// This endpoint returns the printed labels for the order.
func (c *Client) GetLabelsPdf(
	ctx context.Context,
	request *vitalgo.GetLabelsPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetLabelsPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetPscAppointmentAvailability(
	ctx context.Context,
	request *vitalgo.GetPscAppointmentAvailabilityLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.AppointmentAvailabilitySlots, error) {
	response, err := c.WithRawResponse.GetPscAppointmentAvailability(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) BookPscAppointment(
	ctx context.Context,
	request *vitalgo.BookPscAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.BookPscAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) ReschedulePscAppointment(
	ctx context.Context,
	request *vitalgo.ReschedulePscAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.ReschedulePscAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) CancelPscAppointment(
	ctx context.Context,
	request *vitalgo.VitalCoreClientsLabTestGetlabsSchemaAppointmentCancelRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.CancelPscAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) GetPscAppointmentCancellationReason(
	ctx context.Context,
	opts ...option.RequestOption,
) ([]*vitalgo.ClientFacingAppointmentCancellationReason, error) {
	response, err := c.WithRawResponse.GetPscAppointmentCancellationReason(
		ctx,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Get the appointment associated with an order.
func (c *Client) GetPscAppointment(
	ctx context.Context,
	request *vitalgo.GetPscAppointmentLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingAppointment, error) {
	response, err := c.WithRawResponse.GetPscAppointment(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET collection instructions for an order
func (c *Client) GetOrderCollectionInstructionPdf(
	ctx context.Context,
	request *vitalgo.GetOrderCollectionInstructionPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetOrderCollectionInstructionPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET requisition pdf for an order
func (c *Client) GetOrderRequistionPdf(
	ctx context.Context,
	request *vitalgo.GetOrderRequistionPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetOrderRequistionPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET ABN pdf for an order
func (c *Client) GetOrderAbnPdf(
	ctx context.Context,
	request *vitalgo.GetOrderAbnPdfLabTestsRequest,
	opts ...option.RequestOption,
) (io.Reader, error) {
	response, err := c.WithRawResponse.GetOrderAbnPdf(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// GET individual order by ID.
func (c *Client) GetOrder(
	ctx context.Context,
	request *vitalgo.GetOrderLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.ClientFacingOrder, error) {
	response, err := c.WithRawResponse.GetOrder(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) CreateOrder(
	ctx context.Context,
	request *vitalgo.CreateOrderRequestCompatible,
	opts ...option.RequestOption,
) (*vitalgo.PostOrderResponse, error) {
	response, err := c.WithRawResponse.CreateOrder(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) ImportOrder(
	ctx context.Context,
	request *vitalgo.ImportOrderBody,
	opts ...option.RequestOption,
) (*vitalgo.PostOrderResponse, error) {
	response, err := c.WithRawResponse.ImportOrder(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// POST cancel order
func (c *Client) CancelOrder(
	ctx context.Context,
	request *vitalgo.CancelOrderLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.PostOrderResponse, error) {
	response, err := c.WithRawResponse.CancelOrder(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Get available test kits.
func (c *Client) SimulateOrderProcess(
	ctx context.Context,
	request *vitalgo.SimulateOrderProcessLabTestsRequest,
	opts ...option.RequestOption,
) (any, error) {
	response, err := c.WithRawResponse.SimulateOrderProcess(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// PATCH update on site collection order when draw is completed
func (c *Client) UpdateOnSiteCollectionOrderDrawCompleted(
	ctx context.Context,
	request *vitalgo.UpdateOnSiteCollectionOrderDrawCompletedLabTestsRequest,
	opts ...option.RequestOption,
) (*vitalgo.PostOrderResponse, error) {
	response, err := c.WithRawResponse.UpdateOnSiteCollectionOrderDrawCompleted(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

func (c *Client) ValidateIcdCodes(
	ctx context.Context,
	request *vitalgo.ValidateIcdCodesBody,
	opts ...option.RequestOption,
) (*vitalgo.ValidateIcdCodesResponse, error) {
	response, err := c.WithRawResponse.ValidateIcdCodes(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}
