// This file was auto-generated by Fern from our API Definition.

package api

import (
	json "encoding/json"
)

type Query struct {
	Timeframe    *RelativeTimeframe  `json:"timeframe,omitempty"`
	Instructions []*QueryInstruction `json:"instructions,omitempty"`
	Config       *QueryConfig        `json:"config,omitempty"`
	accept       string
}

func (q *Query) Accept() string {
	return q.accept
}

func (q *Query) UnmarshalJSON(data []byte) error {
	type unmarshaler Query
	var body unmarshaler
	if err := json.Unmarshal(data, &body); err != nil {
		return err
	}
	*q = Query(body)
	q.accept = "*/*"
	return nil
}

func (q *Query) MarshalJSON() ([]byte, error) {
	type embed Query
	var marshaler = struct {
		embed
		Accept string `json:"accept"`
	}{
		embed:  embed(*q),
		Accept: "*/*",
	}
	return json.Marshal(marshaler)
}
